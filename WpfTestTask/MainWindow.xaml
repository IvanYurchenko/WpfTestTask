<Window x:Name="MainWindow1" x:Class="WpfTestTask.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:core="clr-namespace:System;assembly=mscorlib"
        xmlns:local="clr-namespace:WpfTestTask.Enums"
        Title="MainWindow" Height="350" Width="525" Loaded="MainWindow1_Loaded">
	<Window.Resources>
		<ObjectDataProvider x:Key="stateEnum" MethodName="GetValues" ObjectType="{x:Type core:Enum}">
			<ObjectDataProvider.MethodParameters>
				<x:Type Type="local:State"/>
			</ObjectDataProvider.MethodParameters>
		</ObjectDataProvider>
	</Window.Resources>
	<Grid>
		<DataGrid x:Name="DataGrid1"
				  HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top"
				  Height="299" Width="497"
				  AutoGenerateColumns="False"
				  ItemsSource="{Binding BindingList}"
				  PreparingCellForEdit="CellChangingStarted" CellEditEnding="CellChanged">
			<DataGrid.RowStyle>
				<Style TargetType="DataGridRow">
					<Style.Triggers>
						<DataTrigger Binding="{Binding State}" Value="InProgress">
							<Setter Property="Background" Value="LightGreen"></Setter>
						</DataTrigger>
					</Style.Triggers>
				</Style>
			</DataGrid.RowStyle>
			<DataGrid.Columns>
				<DataGridTextColumn Width="40"
				                    Binding="{Binding Id}"
				                    Header="Id" />
				<DataGridTextColumn Width="275"
				                    Binding="{Binding Description}"
				                    Header="Description" />
				<DataGridComboBoxColumn Width="100"
									SelectedItemBinding="{Binding State}"
									ItemsSource="{Binding Source={StaticResource stateEnum}}"
									Header="State"/>
				<DataGridCheckBoxColumn Width="80"
				                    Binding="{Binding IsCompleted}"
				                    Header="Is completed" />
			</DataGrid.Columns>
		</DataGrid>

	</Grid>
</Window>
